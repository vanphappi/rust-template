# ============================================================================
# API Management SE - Environment Configuration Template
# Copy this file to .env and customize for your environment
# ============================================================================

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------------------------------------------
APP_NAME=API Management SE
ENVIRONMENT=development  # development, staging, production
RUST_LOG=info,actix_web=debug,sqlx=warn

# ----------------------------------------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8080
WORKERS=4  # Number of worker threads (0 = auto-detect CPU cores)

# ----------------------------------------------------------------------------
# FEATURE FLAGS - Enable/Disable Modules
# ----------------------------------------------------------------------------
FEATURE_REST_API=true
FEATURE_GRAPHQL=false
FEATURE_GRPC=false
FEATURE_WEBSOCKET=false
FEATURE_METRICS=true
FEATURE_TRACING_OTEL=false
FEATURE_DOCS=true

# ----------------------------------------------------------------------------
# DATABASE - PostgreSQL
# ----------------------------------------------------------------------------
DATABASE_URL=postgres://postgres:postgres@localhost:5432/api_db
DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=2
DATABASE_CONNECT_TIMEOUT=30
DATABASE_IDLE_TIMEOUT=600
DATABASE_MAX_LIFETIME=1800

# ----------------------------------------------------------------------------
# DATABASE - MongoDB (Optional)
# ----------------------------------------------------------------------------
MONGODB_URL=mongodb://localhost:27017
MONGODB_DATABASE=api_db
MONGODB_MAX_POOL_SIZE=10

# ----------------------------------------------------------------------------
# CACHE - Redis
# ----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=true
REDIS_POOL_SIZE=10
REDIS_TIMEOUT=5
REDIS_CLUSTER_MODE=false

# ----------------------------------------------------------------------------
# CACHE - Memcached (Optional)
# ----------------------------------------------------------------------------
MEMCACHED_URL=localhost:11211
MEMCACHED_ENABLED=false

# ----------------------------------------------------------------------------
# AUTHENTICATION - JWT
# ----------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=30
JWT_ALGORITHM=HS256  # HS256, RS256, ES256

# ----------------------------------------------------------------------------
# AUTHENTICATION - OAuth2 (Optional)
# ----------------------------------------------------------------------------
# Google OAuth2
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URL=http://localhost:8080/oauth2/callback/google

# GitHub OAuth2
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URL=http://localhost:8080/oauth2/callback/github

# Microsoft OAuth2
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_REDIRECT_URL=http://localhost:8080/oauth2/callback/microsoft
MICROSOFT_TENANT_ID=common  # or your specific tenant ID

# ----------------------------------------------------------------------------
# AUTHENTICATION - API Keys
# ----------------------------------------------------------------------------
API_KEY_HEADER=X-API-Key
API_KEY_ROTATION_DAYS=90

# ----------------------------------------------------------------------------
# SECURITY
# ----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID
CORS_MAX_AGE=3600
ENABLE_HTTPS=false
TLS_CERT_PATH=/path/to/cert.pem
TLS_KEY_PATH=/path/to/key.pem

# ----------------------------------------------------------------------------
# RATE LIMITING
# ----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_SECOND=10
RATE_LIMIT_BURST_SIZE=20

# ----------------------------------------------------------------------------
# OBSERVABILITY - Metrics
# ----------------------------------------------------------------------------
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_NAMESPACE=api_management_se

# ----------------------------------------------------------------------------
# OBSERVABILITY - OpenTelemetry
# ----------------------------------------------------------------------------
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=api-management-se
OTEL_SERVICE_VERSION=3.0.0
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ----------------------------------------------------------------------------
# MESSAGE QUEUE - Kafka (Optional)
# ----------------------------------------------------------------------------
KAFKA_ENABLED=false
KAFKA_BROKERS=localhost:9092
KAFKA_CONSUMER_GROUP=api-management-se
KAFKA_TOPIC_PREFIX=api

# ----------------------------------------------------------------------------
# MESSAGE QUEUE - RabbitMQ (Optional)
# ----------------------------------------------------------------------------
RABBITMQ_ENABLED=false
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_EXCHANGE=api_exchange
RABBITMQ_QUEUE=api_queue

# ----------------------------------------------------------------------------
# MESSAGE QUEUE - NATS (Optional)
# ----------------------------------------------------------------------------
NATS_ENABLED=false
NATS_URL=nats://localhost:4222
NATS_SUBJECT=api.events

# ----------------------------------------------------------------------------
# EMAIL SERVICE (Optional)
# ----------------------------------------------------------------------------
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com

# ----------------------------------------------------------------------------
# STORAGE - AWS S3 (Optional)
# ----------------------------------------------------------------------------
S3_ENABLED=false
AWS_REGION=us-east-1
S3_BUCKET=your-bucket-name
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# ----------------------------------------------------------------------------
# BACKGROUND JOBS
# ----------------------------------------------------------------------------
JOBS_ENABLED=true
JOBS_WORKER_THREADS=2

